<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<!--<html>-->
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, use-scalable=0"/>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/radio.css">
    <link rel="stylesheet" href="css/loader_ring.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script type="text/javascript" th:src="@{/js/radio_button.js}"/>
</head>

<body class="centered-wrapper">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script>
window.addEventListener("pageshow", hideLoaderRing);

function hideLoaderRing() {
  document.getElementById("idLoader").style.visibility = "hidden";}
</script>

<form method="post" th:action="@{/upload}" enctype="multipart/form-data">
    &ensp;
    <div>
        <p class="title">Оберіть джерело файлу:</p>
        <label class="container" for="ehealth">eHealth API (development)<input type="radio" id="ehealth"
                                                                               name="file_from"
                                                                               value="ehealth" checked
                                                                               onclick="setDisabled('file_uploads', true);"><span
                class="checkmark"></span></label><br>
        <label class="container" for="ehealth_med">eHealth Medical Events API (development)<input type="radio"
                                                                                                  id="ehealth_med"
                                                                                                  name="file_from"
                                                                                                  value="ehealth_med"
                                                                                                  onclick="setDisabled('file_uploads', true);"><span
                class="checkmark"></span></label><br>
        <label class="container" for="ehealth_mis">eHealth MIS API (ehealth demo, preprod, prod)<input type="radio"
                                                                                                       id="ehealth_mis"
                                                                                                       name="file_from"
                                                                                                       value="ehealth_mis"
                                                                                                       onclick="setDisabled('file_uploads', true);"><span
                class="checkmark"></span></label><br>
        <label class="container" for="ehealth_mis_med">eHealth MIS Medical Events API (ehealth)<input type="radio"
                                                                                                      id="ehealth_mis_med"
                                                                                                      name="file_from"
                                                                                                      value="ehealth_mis_med"
                                                                                                      onclick="setDisabled('file_uploads', true);"><span
                class="checkmark"></span></label><br>
        <label class="container" for="local">local file<input type="radio" id="local" name="file_from"
                                                              value="local_file"
                                                              onclick="setDisabled('file_uploads', false);"><span
                class="checkmark"></span></label><br>
    </div>

    <div>
        <input class="button button2" type="file" id="file_uploads" name="file" placeholder="файл"
               disabled="true">
    </div>
    &ensp;
    <div>
        <input id="idField" class="button button2" required type="text" name="field" placeholder="поле"
               onfocusout="if(this.value.length > 0){document.getElementById('button').disabled = false;}else{document.getElementById('button').disabled = true;}"
               onkeyup="if(this.value.length > 0){document.getElementById('button').disabled = false;}else{document.getElementById('button').disabled = true;}">
    </div>

    &ensp;
    <div>
        <button id="button" disabled class="button button1" type="submit" onclick="document.getElementById('idLoader').style.visibility = 'visible'">Генерувати звіт</button>
        <p id="idLoader" class="loader"></p>
    </div>
    <div class="anim_disappearing" style="text" th:text="${warning}"> </div>

</form>
</div>
</body>
</html>